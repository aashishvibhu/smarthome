#include <math.h>
#include <LiquidCrystal.h>
LiquidCrystal lcd( 7, 6, 5, 4, 3, 2); // 12,11,5,4,3,2 to 7,6,5,4,3,2

const int lm=A1; // Assigning analog pin A1 to variable 'sensor'
const int ldr=A2;
const int pir=10;
float lout;  //variable to store temperature in Fahreinheit 
float tout;  //temporary variable to hold sensor reading
float mout;
int fan = 8;
int light = 9;
int buzzer = 11;
float resvolt;
float ldrvolt;
float ldrres;
float loutlux;

void setup()
{
pinMode(lm,INPUT); // Configuring pin A1 as input
pinMode(ldr,INPUT);
pinMode(pir,INPUT);
pinMode(fan,OUTPUT);
pinMode(light,OUTPUT);
pinMode(buzzer,OUTPUT);
lcd.begin(16, 2);
Serial.begin(9600);
}


void loop() 
{
  
tout=analogRead(lm);
tout=(tout*500)/1023; // Storing value in Degree Celsius
Serial.print("Temperature in C=");
Serial.print(tout);
Serial.println();
lcd.setCursor(0,0);
lcd.print(" Triple Threats");
lcd.setCursor(0,1);
lcd.print(" Temp(C)= ");
lcd.print(tout);

lout=analogRead(ldr);
Serial.print("Light intensity=");
Serial.print(lout);
Serial.println();
mout=digitalRead(pir);

delay(1000); //Delay of 1 second for ease of viewing 

if (tout<28)
{
  digitalWrite(fan,HIGH);
}
else
{
  digitalWrite(fan,LOW);
}

if (lout>100)
{
  digitalWrite(light,HIGH);
}
else
{
  digitalWrite(light,LOW);
}

}
